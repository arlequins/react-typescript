buildscript {
  repositories {
    maven {
      url "https://plugins.gradle.org/m2/"
    }
  }
  dependencies {
    classpath "com.moowork.gradle:gradle-node-plugin:1.2.0"
  }
}

allprojects {
  apply plugin: "com.moowork.node"
}

project(':front') {
  apply plugin: 'com.moowork.node'
  apply plugin: 'com.moowork.gulp'

  task build {
    def frontPath = "${project.projectDir}"

    node {
      nodeModulesDir = file("$frontPath")
      workDir = file("$frontPath")

      npmVersion = '6.1.0'
      version = '8.9.4'
      download = true
    }

    npm_install.dependsOn(npm_cache_clean)
  }
}
